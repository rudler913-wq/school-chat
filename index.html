<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Чат класса</title>
<style>
body { font-family: sans-serif; background:#f5f5f5; padding:20px }
#chat { max-width:600px; margin:auto; background:#fff; padding:10px }
#messages { height:300px; overflow:auto; border:1px solid #ccc; margin-bottom:10px }
.msg { margin:5px 0 }
</style>
</head>
<body>

<div id="chat">
  <input id="name" placeholder="Ваше имя"><br><br>
  <div id="messages"></div>
  <input id="text" placeholder="Сообщение">
  <button onclick="send()">Отправить</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  // ← СЮДА вставляете свой config из Firebase
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const messagesDiv = document.getElementById('messages');

db.collection("messages").orderBy("time")
.onSnapshot(snapshot => {
  messagesDiv.innerHTML = '';
  snapshot.forEach(doc => {
    const d = doc.data();
    messagesDiv.innerHTML += `<div class="msg"><b>${d.name}:</b> ${d.text}</div>`;
  });
  messagesDiv.scrollTop = messagesDiv.scrollHeight;
});

function send() {
  const name = document.getElementById('name').value;
  const text = document.getElementById('text').value;
  if (!name || !text) return;

  db.collection("messages").add({
    name,
    text,
    time: Date.now()
  });

  document.getElementById('text').value = '';
}
</script>

</body>
</html>
